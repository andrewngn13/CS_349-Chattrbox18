{"id":"A2T1","dependencies":[{"name":"C:\\Users\\andrewngn13\\Downloads\\CS_349\\feWeb\\front-end-dev-resources\\front-end-dev-resources\\book-solutions\\Chapter 17\\chattrbox\\package.json","includedInParent":true,"mtime":1573013009772},{"name":"C:\\Users\\andrewngn13\\Downloads\\CS_349\\feWeb\\front-end-dev-resources\\front-end-dev-resources\\book-solutions\\Chapter 17\\chattrbox\\.babelrc","includedInParent":true,"mtime":1566963323305},{"name":"./ws-client","loc":{"line":1,"column":19},"parent":"C:\\Users\\andrewngn13\\Downloads\\CS_349\\feWeb\\front-end-dev-resources\\front-end-dev-resources\\book-solutions\\Chapter 17\\chattrbox\\app\\scripts\\src\\app.js","resolved":"C:\\Users\\andrewngn13\\Downloads\\CS_349\\feWeb\\front-end-dev-resources\\front-end-dev-resources\\book-solutions\\Chapter 17\\chattrbox\\app\\scripts\\src\\ws-client.js"},{"name":"./storage","loc":{"line":2,"column":24},"parent":"C:\\Users\\andrewngn13\\Downloads\\CS_349\\feWeb\\front-end-dev-resources\\front-end-dev-resources\\book-solutions\\Chapter 17\\chattrbox\\app\\scripts\\src\\app.js","resolved":"C:\\Users\\andrewngn13\\Downloads\\CS_349\\feWeb\\front-end-dev-resources\\front-end-dev-resources\\book-solutions\\Chapter 17\\chattrbox\\app\\scripts\\src\\storage.js"},{"name":"./dom","loc":{"line":3,"column":52},"parent":"C:\\Users\\andrewngn13\\Downloads\\CS_349\\feWeb\\front-end-dev-resources\\front-end-dev-resources\\book-solutions\\Chapter 17\\chattrbox\\app\\scripts\\src\\app.js","resolved":"C:\\Users\\andrewngn13\\Downloads\\CS_349\\feWeb\\front-end-dev-resources\\front-end-dev-resources\\book-solutions\\Chapter 17\\chattrbox\\app\\scripts\\src\\dom.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=r(require(\"./ws-client\")),t=require(\"./storage\"),s=require(\"./dom\");function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,t,s){return t&&a(e.prototype,t),s&&a(e,s),e}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var o=new t.UserStore(\"x-chattrbox/u\"),u=function t(){var r=this;i(this,t),this.username=o.get(),this.username||(this.username=(0,s.promptForUsername)(),o.set(this.username)),this.chatForm=new s.ChatForm(\"#js-chat-form\",\"#js-message-input\"),this.chatList=new s.ChatList(\"#js-message-list\",this.username),e.default.init(\"ws://localhost:3001\"),e.default.registerOpenHandler(function(){r.chatForm.init(function(t){var s=new m(t);e.default.sendMessage(s.toObj())})}),e.default.registerMessageHandler(function(e){console.log(e);var t=new m(e);r.chatList.drawMessage(t.toObj())})},m=function(){function e(t){i(this,e),\"string\"==typeof t&&(t={message:t}),this.username=t.user||o.get(),this.message=t.message,this.timestamp=t.timestamp||(new Date).getTime()}return n(e,[{key:\"toObj\",value:function(){return{user:this.username,message:this.message,timestamp:this.timestamp}}}]),e}(),c=u;exports.default=c;"},"sourceMaps":{"js":{"mappings":[{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":0}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":13}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":20}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":35}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":43}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":56}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":57}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":64}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":68}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":76}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":89}},{"source":"app.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"app.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"app.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"app.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"app.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"app.js","original":{"line":2,"column":0},"generated":{"line":1,"column":123}},{"source":"app.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"app.js","original":{"line":2,"column":0},"generated":{"line":1,"column":133}},{"source":"app.js","original":{"line":3,"column":0},"generated":{"line":1,"column":146}},{"source":"app.js","original":{"line":3,"column":0},"generated":{"line":1,"column":148}},{"source":"app.js","original":{"line":3,"column":0},"generated":{"line":1,"column":156}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":165}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":174}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":176}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":179}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":186}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":189}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":191}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":202}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":204}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":205}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":213}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":216}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":225}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":227}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":229}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":232}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":236}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":240}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":242}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":244}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":246}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":248}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":255}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":259}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":260}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":264}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":266}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":268}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":271}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":273}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":284}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":286}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":299}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":301}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":303}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":317}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":319}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":329}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":333}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":335}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":345}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":348}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":355}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":370}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":372}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":374}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":378}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":382}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":391}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":393}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":395}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":397}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":400}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":407}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":410}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":412}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":414}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":424}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":427}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":430}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":432}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":434}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":437}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":439}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":448}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":450}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":452}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":455}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":460}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":473}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":476}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":482}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":486}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":496}},{"source":"app.js","original":{"line":5,"column":0},"generated":{"line":1,"column":533}},{"source":"app.js","name":"userStore","original":{"line":5,"column":4},"generated":{"line":1,"column":537}},{"source":"app.js","original":{"line":5,"column":16},"generated":{"line":1,"column":539}},{"source":"app.js","name":"UserStore","original":{"line":5,"column":20},"generated":{"line":1,"column":543}},{"source":"app.js","original":{"line":5,"column":16},"generated":{"line":1,"column":545}},{"source":"app.js","original":{"line":5,"column":30},"generated":{"line":1,"column":555}},{"source":"app.js","name":"ChatApp","original":{"line":7,"column":6},"generated":{"line":1,"column":572}},{"source":"app.js","original":{"line":8,"column":2},"generated":{"line":1,"column":574}},{"source":"app.js","original":{"line":8,"column":16},"generated":{"line":1,"column":583}},{"source":"app.js","original":{"line":8,"column":16},"generated":{"line":1,"column":587}},{"source":"app.js","original":{"line":8,"column":16},"generated":{"line":1,"column":591}},{"source":"app.js","original":{"line":8,"column":16},"generated":{"line":1,"column":593}},{"source":"app.js","original":{"line":8,"column":16},"generated":{"line":1,"column":598}},{"source":"app.js","original":{"line":8,"column":16},"generated":{"line":1,"column":600}},{"source":"app.js","original":{"line":8,"column":16},"generated":{"line":1,"column":605}},{"source":"app.js","name":"username","original":{"line":9,"column":9},"generated":{"line":1,"column":608}},{"source":"app.js","name":"username","original":{"line":9,"column":9},"generated":{"line":1,"column":613}},{"source":"app.js","name":"userStore","original":{"line":9,"column":20},"generated":{"line":1,"column":622}},{"source":"app.js","name":"get","original":{"line":9,"column":30},"generated":{"line":1,"column":624}},{"source":"app.js","original":{"line":10,"column":9},"generated":{"line":1,"column":630}},{"source":"app.js","name":"username","original":{"line":10,"column":14},"generated":{"line":1,"column":635}},{"source":"app.js","name":"username","original":{"line":11,"column":11},"generated":{"line":1,"column":646}},{"source":"app.js","name":"username","original":{"line":11,"column":11},"generated":{"line":1,"column":651}},{"source":"app.js","original":{"line":11,"column":22},"generated":{"line":1,"column":661}},{"source":"app.js","original":{"line":11,"column":6},"generated":{"line":1,"column":663}},{"source":"app.js","original":{"line":11,"column":6},"generated":{"line":1,"column":665}},{"source":"app.js","name":"userStore","original":{"line":12,"column":6},"generated":{"line":1,"column":686}},{"source":"app.js","name":"set","original":{"line":12,"column":16},"generated":{"line":1,"column":688}},{"source":"app.js","original":{"line":12,"column":20},"generated":{"line":1,"column":692}},{"source":"app.js","name":"username","original":{"line":12,"column":25},"generated":{"line":1,"column":697}},{"source":"app.js","name":"chatForm","original":{"line":15,"column":9},"generated":{"line":1,"column":708}},{"source":"app.js","name":"chatForm","original":{"line":15,"column":9},"generated":{"line":1,"column":713}},{"source":"app.js","original":{"line":15,"column":20},"generated":{"line":1,"column":722}},{"source":"app.js","name":"ChatForm","original":{"line":15,"column":24},"generated":{"line":1,"column":726}},{"source":"app.js","original":{"line":15,"column":20},"generated":{"line":1,"column":728}},{"source":"app.js","original":{"line":15,"column":33},"generated":{"line":1,"column":737}},{"source":"app.js","original":{"line":15,"column":50},"generated":{"line":1,"column":753}},{"source":"app.js","name":"chatList","original":{"line":16,"column":9},"generated":{"line":1,"column":774}},{"source":"app.js","name":"chatList","original":{"line":16,"column":9},"generated":{"line":1,"column":779}},{"source":"app.js","original":{"line":16,"column":20},"generated":{"line":1,"column":788}},{"source":"app.js","name":"ChatList","original":{"line":16,"column":24},"generated":{"line":1,"column":792}},{"source":"app.js","original":{"line":16,"column":20},"generated":{"line":1,"column":794}},{"source":"app.js","original":{"line":16,"column":33},"generated":{"line":1,"column":803}},{"source":"app.js","original":{"line":16,"column":53},"generated":{"line":1,"column":822}},{"source":"app.js","name":"username","original":{"line":16,"column":58},"generated":{"line":1,"column":827}},{"source":"app.js","name":"init","original":{"line":17,"column":11},"generated":{"line":1,"column":837}},{"source":"app.js","name":"init","original":{"line":17,"column":11},"generated":{"line":1,"column":839}},{"source":"app.js","name":"init","original":{"line":17,"column":11},"generated":{"line":1,"column":847}},{"source":"app.js","original":{"line":17,"column":16},"generated":{"line":1,"column":852}},{"source":"app.js","name":"registerOpenHandler","original":{"line":18,"column":11},"generated":{"line":1,"column":875}},{"source":"app.js","name":"registerOpenHandler","original":{"line":18,"column":11},"generated":{"line":1,"column":877}},{"source":"app.js","name":"registerOpenHandler","original":{"line":18,"column":11},"generated":{"line":1,"column":885}},{"source":"app.js","original":{"line":18,"column":31},"generated":{"line":1,"column":905}},{"source":"app.js","original":{"line":19,"column":6},"generated":{"line":1,"column":916}},{"source":"app.js","name":"chatForm","original":{"line":19,"column":11},"generated":{"line":1,"column":918}},{"source":"app.js","name":"init","original":{"line":19,"column":20},"generated":{"line":1,"column":927}},{"source":"app.js","original":{"line":19,"column":25},"generated":{"line":1,"column":932}},{"source":"app.js","name":"data","original":{"line":19,"column":26},"generated":{"line":1,"column":941}},{"source":"app.js","name":"message","original":{"line":20,"column":12},"generated":{"line":1,"column":944}},{"source":"app.js","name":"message","original":{"line":20,"column":12},"generated":{"line":1,"column":948}},{"source":"app.js","original":{"line":20,"column":22},"generated":{"line":1,"column":950}},{"source":"app.js","name":"ChatMessage","original":{"line":20,"column":26},"generated":{"line":1,"column":954}},{"source":"app.js","name":"data","original":{"line":20,"column":38},"generated":{"line":1,"column":956}},{"source":"app.js","name":"sendMessage","original":{"line":21,"column":15},"generated":{"line":1,"column":959}},{"source":"app.js","name":"sendMessage","original":{"line":21,"column":15},"generated":{"line":1,"column":961}},{"source":"app.js","name":"sendMessage","original":{"line":21,"column":15},"generated":{"line":1,"column":969}},{"source":"app.js","name":"message","original":{"line":21,"column":27},"generated":{"line":1,"column":981}},{"source":"app.js","name":"toObj","original":{"line":21,"column":35},"generated":{"line":1,"column":983}},{"source":"app.js","name":"registerMessageHandler","original":{"line":24,"column":11},"generated":{"line":1,"column":996}},{"source":"app.js","name":"registerMessageHandler","original":{"line":24,"column":11},"generated":{"line":1,"column":998}},{"source":"app.js","name":"registerMessageHandler","original":{"line":24,"column":11},"generated":{"line":1,"column":1006}},{"source":"app.js","original":{"line":24,"column":34},"generated":{"line":1,"column":1029}},{"source":"app.js","name":"data","original":{"line":24,"column":35},"generated":{"line":1,"column":1038}},{"source":"app.js","name":"console","original":{"line":25,"column":6},"generated":{"line":1,"column":1041}},{"source":"app.js","name":"log","original":{"line":25,"column":14},"generated":{"line":1,"column":1049}},{"source":"app.js","name":"data","original":{"line":25,"column":18},"generated":{"line":1,"column":1053}},{"source":"app.js","name":"message","original":{"line":28,"column":10},"generated":{"line":1,"column":1056}},{"source":"app.js","name":"message","original":{"line":28,"column":10},"generated":{"line":1,"column":1060}},{"source":"app.js","original":{"line":28,"column":20},"generated":{"line":1,"column":1062}},{"source":"app.js","name":"ChatMessage","original":{"line":28,"column":24},"generated":{"line":1,"column":1066}},{"source":"app.js","name":"data","original":{"line":28,"column":36},"generated":{"line":1,"column":1068}},{"source":"app.js","original":{"line":30,"column":6},"generated":{"line":1,"column":1071}},{"source":"app.js","name":"chatList","original":{"line":30,"column":11},"generated":{"line":1,"column":1073}},{"source":"app.js","name":"drawMessage","original":{"line":30,"column":20},"generated":{"line":1,"column":1082}},{"source":"app.js","name":"message","original":{"line":30,"column":32},"generated":{"line":1,"column":1094}},{"source":"app.js","name":"toObj","original":{"line":30,"column":40},"generated":{"line":1,"column":1096}},{"source":"app.js","name":"ChatMessage","original":{"line":35,"column":6},"generated":{"line":1,"column":1108}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1110}},{"source":"app.js","name":"data","original":{"line":36,"column":14},"generated":{"line":1,"column":1121}},{"source":"app.js","name":"data","original":{"line":36,"column":14},"generated":{"line":1,"column":1130}},{"source":"app.js","name":"data","original":{"line":36,"column":14},"generated":{"line":1,"column":1132}},{"source":"app.js","original":{"line":36,"column":20},"generated":{"line":1,"column":1135}},{"source":"app.js","original":{"line":36,"column":20},"generated":{"line":1,"column":1137}},{"source":"app.js","original":{"line":36,"column":20},"generated":{"line":1,"column":1142}},{"source":"app.js","original":{"line":37,"column":24},"generated":{"line":1,"column":1145}},{"source":"app.js","name":"data","original":{"line":37,"column":15},"generated":{"line":1,"column":1162}},{"source":"app.js","name":"data","original":{"line":38,"column":6},"generated":{"line":1,"column":1166}},{"source":"app.js","original":{"line":38,"column":13},"generated":{"line":1,"column":1168}},{"source":"app.js","name":"message","original":{"line":39,"column":8},"generated":{"line":1,"column":1169}},{"source":"app.js","name":"data","original":{"line":39,"column":17},"generated":{"line":1,"column":1177}},{"source":"app.js","name":"username","original":{"line":42,"column":9},"generated":{"line":1,"column":1181}},{"source":"app.js","name":"username","original":{"line":42,"column":9},"generated":{"line":1,"column":1186}},{"source":"app.js","name":"data","original":{"line":42,"column":20},"generated":{"line":1,"column":1195}},{"source":"app.js","name":"user","original":{"line":42,"column":25},"generated":{"line":1,"column":1197}},{"source":"app.js","name":"userStore","original":{"line":42,"column":33},"generated":{"line":1,"column":1203}},{"source":"app.js","name":"get","original":{"line":42,"column":43},"generated":{"line":1,"column":1205}},{"source":"app.js","name":"message","original":{"line":43,"column":9},"generated":{"line":1,"column":1211}},{"source":"app.js","name":"message","original":{"line":43,"column":9},"generated":{"line":1,"column":1216}},{"source":"app.js","name":"data","original":{"line":43,"column":19},"generated":{"line":1,"column":1224}},{"source":"app.js","name":"message","original":{"line":43,"column":24},"generated":{"line":1,"column":1226}},{"source":"app.js","name":"timestamp","original":{"line":44,"column":9},"generated":{"line":1,"column":1234}},{"source":"app.js","name":"timestamp","original":{"line":44,"column":9},"generated":{"line":1,"column":1239}},{"source":"app.js","name":"data","original":{"line":44,"column":21},"generated":{"line":1,"column":1249}},{"source":"app.js","name":"timestamp","original":{"line":44,"column":26},"generated":{"line":1,"column":1251}},{"source":"app.js","original":{"line":44,"column":40},"generated":{"line":1,"column":1263}},{"source":"app.js","name":"Date","original":{"line":44,"column":44},"generated":{"line":1,"column":1267}},{"source":"app.js","name":"getTime","original":{"line":44,"column":52},"generated":{"line":1,"column":1273}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1283}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1290}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1292}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1294}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1295}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1296}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1300}},{"source":"app.js","original":{"line":47,"column":10},"generated":{"line":1,"column":1308}},{"source":"app.js","original":{"line":47,"column":10},"generated":{"line":1,"column":1314}},{"source":"app.js","original":{"line":48,"column":11},"generated":{"line":1,"column":1325}},{"source":"app.js","original":{"line":48,"column":11},"generated":{"line":1,"column":1331}},{"source":"app.js","name":"user","original":{"line":49,"column":6},"generated":{"line":1,"column":1332}},{"source":"app.js","original":{"line":49,"column":12},"generated":{"line":1,"column":1337}},{"source":"app.js","name":"username","original":{"line":49,"column":17},"generated":{"line":1,"column":1342}},{"source":"app.js","name":"message","original":{"line":50,"column":6},"generated":{"line":1,"column":1351}},{"source":"app.js","original":{"line":50,"column":15},"generated":{"line":1,"column":1359}},{"source":"app.js","name":"message","original":{"line":50,"column":20},"generated":{"line":1,"column":1364}},{"source":"app.js","name":"timestamp","original":{"line":51,"column":6},"generated":{"line":1,"column":1372}},{"source":"app.js","original":{"line":51,"column":17},"generated":{"line":1,"column":1382}},{"source":"app.js","name":"timestamp","original":{"line":51,"column":22},"generated":{"line":1,"column":1387}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1402}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1404}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1407}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1409}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1411}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1419}},{"source":"app.js","name":"ChatApp","original":{"line":56,"column":15},"generated":{"line":1,"column":1427}}],"sources":{"app.js":"import socket from './ws-client';\nimport {UserStore} from './storage';\nimport {ChatForm, ChatList, promptForUsername} from './dom';\n\nlet userStore = new UserStore('x-chattrbox/u');\n\nclass ChatApp {\n  constructor() {\n    this.username = userStore.get();\n    if (!this.username) {\n      this.username = promptForUsername();\n      userStore.set(this.username);\n    }\n\n    this.chatForm = new ChatForm('#js-chat-form', '#js-message-input');\n    this.chatList = new ChatList('#js-message-list', this.username);\n    socket.init('ws://localhost:3001');\n    socket.registerOpenHandler(() => {\n      this.chatForm.init((data) => {\n        let message = new ChatMessage(data);\n        socket.sendMessage(message.toObj());\n      });\n    });\n    socket.registerMessageHandler((data) => {\n      console.log(data);\n      // Create a new instance of `ChatMessage` with the incoming data from the\n      // WebSockets server\n      let message = new ChatMessage(data);\n      // then, call this.chatList.drawMessage() with the new message instance\n      this.chatList.drawMessage(message.toObj());\n    });\n  }\n}\n\nclass ChatMessage {\n  constructor(data) {\n    if (typeof data === 'string') {\n      data = {\n        message: data\n      };\n    }\n    this.username = data.user || userStore.get();\n    this.message = data.message;\n    this.timestamp = data.timestamp || (new Date()).getTime();\n  }\n\n  toObj() {\n    return {\n      user: this.username,\n      message: this.message,\n      timestamp: this.timestamp\n    };\n  }\n}\n\nexport default ChatApp;\n"},"lineCount":null}},"error":null,"hash":"8b0f8f8aaea2cc1c3d3863b4dd168c11","cacheData":{"env":{}}}